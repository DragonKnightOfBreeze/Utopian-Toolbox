<idea-plugin url="https://github.com/DragonKnightOfBreeze/Utopian-Toolbox" xmlns:xi="http://www.w3.org/2001/XInclude">
    <id>icu.windea.ut.toolbox</id>
    <name>Utopian Toolbox</name>
    <category>Languages</category>
    <resource-bundle>messages.UtBundle</resource-bundle>

    <vendor email="dk_breeze@qq.com" url="https://github.com/DragonKnightOfBreeze">DragonKnightOfBreeze</vendor>

    <depends>com.intellij.modules.lang</depends>
    <depends optional="true" config-file="ut-markdown.xml">org.intellij.plugins.markdown</depends>
    <depends optional="true" config-file="ut-json.xml">com.intellij.modules.json</depends>
    <depends optional="true" config-file="ut-yaml.xml">org.jetbrains.plugins.yaml</depends>

    <extensions defaultExtensionNs="com.intellij">
        <applicationService serviceImplementation="icu.windea.ut.toolbox.settings.UtFoldingSettings"/>
        <codeFoldingOptionsProvider instance="icu.windea.ut.toolbox.settings.UtFoldingOptionsProvider"/>
    </extensions>

    <extensionPoints>
        <extensionPoint name="jElementProvider" beanClass="com.intellij.lang.LanguageExtensionPoint" dynamic="true">
            <with attribute="implementationClass" implements="icu.windea.ut.toolbox.jast.JElementProvider"/>
        </extensionPoint>
        <extensionPoint name="jsonPointerBasedLanguageSettingsProvider" interface="icu.windea.ut.toolbox.jast.JsonPointerBasedLanguageSettingsProvider" dynamic="true"/>
    </extensionPoints>
    
    <extensions defaultExtensionNs="com.intellij">
<!--        <psi.declarationProvider implementation="icu.windea.ut.toolbox.jast.JsonPointerBasedSymbolDeclarationProvider"/>-->
<!--        <psi.symbolReferenceProvider hostElementClass="com.intellij.model.psi.PsiExternalReferenceHost"-->
<!--                                     hostLanguage=""-->
<!--                                     implementationClass="icu.windea.ut.toolbox.jast.JsonPointerBasedSymbolReferenceProvider"-->
<!--                                     targetClass="com.intellij.model.Symbol"/>-->
        <readWriteAccessDetector implementation="icu.windea.ut.toolbox.jast.JsonPointerBasedReferenceReadWriteAccessDetector"/>
        <referencesSearch implementation="icu.windea.ut.toolbox.jast.JsonPointerBasedDeclarationUsagesSearcher"/>
        <annotator language="" implementationClass="icu.windea.ut.toolbox.jast.JsonPointerBasedReferenceAnnotator"/>
        <!--suppress PluginXmlValidity -->
        <documentationProvider implementation="icu.windea.ut.toolbox.jast.JsonPointerBasedDocumentationProvider"/>
        <platform.backend.documentation.psiTargetProvider implementation="icu.windea.ut.toolbox.jast.JsonPointerBasedDeclarationDocumentationTargetProvider"/>
        
        <localInspection language="" shortName="UtUnresolvedJsonPointerBasedReference"
                         enabledByDefault="true" level="ERROR"
                         bundle="messages.UtBundle" key="inspection.unresolvedJsonPointerBasedReference"
                         groupBundle="messages.UtBundle" groupKey="inspection.group"
                         implementationClass="icu.windea.ut.toolbox.jast.UnresolvedJsonPointerBasedReferenceInspection"/>
    </extensions>
</idea-plugin>
